


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > CountryMapper</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">com.example.country_info_api.mapper</a>
</div>

<h1>Coverage Summary for Class: CountryMapper (com.example.country_info_api.mapper)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">CountryMapper</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (9/9)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    50%
  </span>
  <span class="absValue">
    (2/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    95.7%
  </span>
  <span class="absValue">
    (45/47)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package com.example.country_info_api.mapper;
&nbsp;
&nbsp;import com.example.country_info_api.dto.CountryResponseDto;
&nbsp;import com.example.country_info_api.dto.CurrencyDto;
&nbsp;import com.example.country_info_api.dto.NameDto;
&nbsp;import com.example.country_info_api.dto.RestCountryResponseDto;
&nbsp;import com.example.country_info_api.model.Country;
&nbsp;import com.example.country_info_api.model.Currency;
&nbsp;import com.example.country_info_api.model.Name;
&nbsp;import org.springframework.stereotype.Component;
&nbsp;
&nbsp;import java.util.HashMap;
&nbsp;import java.util.Map;
&nbsp;
&nbsp;@Component
<b class="fc">&nbsp;public class CountryMapper {</b>
&nbsp;
&nbsp;    public Country mapToEntity(RestCountryResponseDto response) {
<b class="fc">&nbsp;        Country country = new Country();</b>
&nbsp;
<b class="fc">&nbsp;        country.setAlpha3Code(response.getCca3());</b>
<b class="fc">&nbsp;        country.setName(mapToName(response.getName()));</b>
<b class="fc">&nbsp;        country.setRegion(response.getRegion());</b>
<b class="fc">&nbsp;        country.setSubregion(response.getSubregion());</b>
<b class="fc">&nbsp;        country.setPopulation(response.getPopulation());</b>
<b class="fc">&nbsp;        country.setCapital(response.getCapital());</b>
<b class="fc">&nbsp;        country.setBorders(response.getBorders());</b>
<b class="fc">&nbsp;        country.setTimezones(response.getTimezones());</b>
<b class="fc">&nbsp;        country.setCurrencies(mapToCurrencies(response.getCurrencies()));</b>
<b class="fc">&nbsp;        country.setLanguages(response.getLanguages());</b>
&nbsp;
<b class="fc">&nbsp;        return country;</b>
&nbsp;    }
&nbsp;
&nbsp;    public CountryResponseDto mapToResponseDto(Country country) {
&nbsp;
<b class="fc">&nbsp;        CountryResponseDto responseDto = new CountryResponseDto();</b>
&nbsp;
<b class="fc">&nbsp;        responseDto.setName(mapToNameDto(country.getName()));</b>
<b class="fc">&nbsp;        responseDto.setRegion(country.getRegion());</b>
<b class="fc">&nbsp;        responseDto.setSubregion(country.getSubregion());</b>
<b class="fc">&nbsp;        responseDto.setPopulation(country.getPopulation());</b>
<b class="fc">&nbsp;        responseDto.setCapital(country.getCapital());</b>
<b class="fc">&nbsp;        responseDto.setBorders(country.getBorders());</b>
<b class="fc">&nbsp;        responseDto.setTimezones(country.getTimezones());</b>
<b class="fc">&nbsp;        responseDto.setCurrencies(mapToCurrencyDto(country.getCurrencies()));</b>
<b class="fc">&nbsp;        responseDto.setLanguages(country.getLanguages());</b>
&nbsp;
<b class="fc">&nbsp;        return responseDto;</b>
&nbsp;    }
&nbsp;
&nbsp;
&nbsp;    private Name mapToName(NameDto nameDto) {
<b class="fc">&nbsp;        return new Name(nameDto.getCommon(), nameDto.getOfficial());</b>
&nbsp;    }
&nbsp;
&nbsp;    private NameDto mapToNameDto(Name name) {
<b class="fc">&nbsp;        NameDto nameDto = new NameDto();</b>
<b class="fc">&nbsp;        nameDto.setCommon(name.getCommon());</b>
<b class="fc">&nbsp;        nameDto.setOfficial(name.getOfficial());</b>
<b class="fc">&nbsp;        return nameDto;</b>
&nbsp;    }
&nbsp;
&nbsp;    private Map&lt;String, CurrencyDto&gt; mapToCurrencyDto(Map&lt;String, Currency&gt; currencies) {
<b class="pc">&nbsp;        if (currencies == null) {</b>
<b class="nc">&nbsp;            return new HashMap&lt;&gt;();</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        Map&lt;String, CurrencyDto&gt; currencyDtoMap = new HashMap&lt;&gt;();</b>
<b class="fc">&nbsp;        currencies.forEach((currencyCode, currency) -&gt; {</b>
<b class="fc">&nbsp;            CurrencyDto currencyDto = new CurrencyDto();</b>
<b class="fc">&nbsp;            currencyDto.setName(currency.getName());</b>
<b class="fc">&nbsp;            currencyDto.setSymbol(currency.getSymbol());</b>
<b class="fc">&nbsp;            currencyDtoMap.put(currencyCode, currencyDto);</b>
&nbsp;        });
<b class="fc">&nbsp;        return currencyDtoMap;</b>
&nbsp;    }
&nbsp;
&nbsp;    private Map&lt;String, Currency&gt; mapToCurrencies(Map&lt;String, CurrencyDto&gt; dtoCurrencies) {
<b class="pc">&nbsp;        if (dtoCurrencies == null) {</b>
<b class="nc">&nbsp;            return new HashMap&lt;&gt;();</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        Map&lt;String, Currency&gt; currencies = new HashMap&lt;&gt;();</b>
<b class="fc">&nbsp;        dtoCurrencies.forEach((currencyCode, currencyDto) -&gt; {</b>
<b class="fc">&nbsp;            Currency currency = new Currency();</b>
<b class="fc">&nbsp;            currency.setName(currencyDto.getName());</b>
<b class="fc">&nbsp;            currency.setSymbol(currencyDto.getSymbol());</b>
<b class="fc">&nbsp;            currencies.put(currencyCode, currency);</b>
&nbsp;        });
<b class="fc">&nbsp;        return currencies;</b>
&nbsp;    }
&nbsp;
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-12-08 21:52</div>
</div>
</body>
</html>
